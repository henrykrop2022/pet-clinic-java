pipeline {
    agent any  // Default agent applies to all stages unless overridden
    
    stages {
        stage('checkserver') {
            agent { label 'ubuntu' }  // Corrected syntax: changed "labels" to "label"
            steps {
                sh 'echo "Checking server status"'
                sh 'whoami'
                sh 'cat /etc/*release'
            }
        }

        stage('mvn') {
            agent { docker { image 'maven:3.9.9-amazoncorretto-8-debian' } }  // You cannot use label and docker together
            steps {
                sh 'mvn --version'
            }
        }
    }
}
